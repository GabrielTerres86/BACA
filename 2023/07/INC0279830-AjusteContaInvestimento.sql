DECLARE
 VR_DTMVTOLT CRAPLCI.DTMVTOLT%type;
BEGIN
  select t.dtmvtolt
    into VR_DTMVTOLT
    from crapdat t
   where t.cdcooper = 1;
  
  insert into craplci (CDAGENCI, CDBCCXLT, DTMVTOLT, NRDOLOTE, NRDCONTA, CDHISTOR, NRDOCMTO, NRSEQDIG, VLLANMTO, CDCOOPER, NRAPLICA)
  values (15, 0, VR_DTMVTOLT, 9900010105, 89156129, 488, '10034233000000001', 0, 20000.00, 1, 60);

  insert into craplci (CDAGENCI, CDBCCXLT, DTMVTOLT, NRDOLOTE, NRDCONTA, CDHISTOR, NRDOCMTO, NRSEQDIG, VLLANMTO, CDCOOPER, NRAPLICA)
  values (15, 0, VR_DTMVTOLT , 9900010105, 89156129, 488, '10034233000000002', 0, 20000.00, 1, 60);
  COMMIT;
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
   
END;
