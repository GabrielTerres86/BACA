DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'TB_CADASTRO_TARIFA'
       AND T.INDEX_NAME = 'TB_CADASTRO_TARIFA_IDX1';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.TB_CADASTRO_TARIFA_IDX1';
    EXECUTE IMMEDIATE 'CREATE INDEX TARIFAS.TB_CADASTRO_TARIFA_IDX1 ON TARIFAS.TB_CADASTRO_TARIFA (IDGRUPO) TABLESPACE TBS_TARIFAS_I';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE INDEX TARIFAS.TB_CADASTRO_TARIFA_IDX1 ON TARIFAS.TB_CADASTRO_TARIFA (IDGRUPO) TABLESPACE TBS_TARIFAS_I';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/


DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'TA_SUBGRUPO'
       AND T.INDEX_NAME = 'TA_SUBGRUPO_IDX1';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.TA_SUBGRUPO_IDX1';
    EXECUTE IMMEDIATE 'CREATE INDEX TARIFAS.TA_SUBGRUPO_IDX1 ON TARIFAS.TA_SUBGRUPO (IDGRUPO) TABLESPACE TBS_TARIFAS_I';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE INDEX TARIFAS.TA_SUBGRUPO_IDX1 ON TARIFAS.TA_SUBGRUPO (IDGRUPO) TABLESPACE TBS_TARIFAS_I';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/


DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'HT_ESTORNO_BAIXA_TARIFA'
       AND T.INDEX_NAME = 'HT_ESTORNO_BAIXA_TARIFA_IDX1';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.HT_ESTORNO_BAIXA_TARIFA_IDX1';
    EXECUTE IMMEDIATE 'CREATE INDEX TARIFAS.HT_ESTORNO_BAIXA_TARIFA_IDX1 ON TARIFAS.HT_ESTORNO_BAIXA_TARIFA (NRCONTA_BAIXA) TABLESPACE TBS_TARIFAS_I';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE INDEX TARIFAS.HT_ESTORNO_BAIXA_TARIFA_IDX1 ON TARIFAS.HT_ESTORNO_BAIXA_TARIFA (NRCONTA_BAIXA) TABLESPACE TBS_TARIFAS_I';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/


DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'HT_CONTRATACAO_CESTAS'
       AND T.INDEX_NAME = 'HT_CONTRATACAO_CESTAS_IDX1';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.HT_CONTRATACAO_CESTAS_IDX1';
    EXECUTE IMMEDIATE 'CREATE INDEX TARIFAS.HT_CONTRATACAO_CESTAS_IDX1 ON TARIFAS.HT_CONTRATACAO_CESTAS (CDCESTA) TABLESPACE TBS_TARIFAS_I';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE INDEX TARIFAS.HT_CONTRATACAO_CESTAS_IDX1 ON TARIFAS.HT_CONTRATACAO_CESTAS (CDCESTA) TABLESPACE TBS_TARIFAS_I';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/



DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'TB_CADASTRO_TARIFA'
       AND T.INDEX_NAME = 'TB_CADASTRO_TARIFA_UK1';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.TB_CADASTRO_TARIFA_UK1';
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TB_CADASTRO_TARIFA_UK1 ON TARIFAS.TB_CADASTRO_TARIFA (CDTARIFA) TABLESPACE TBS_TARIFAS_I';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TB_CADASTRO_TARIFA_UK1 ON TARIFAS.TB_CADASTRO_TARIFA (CDTARIFA) TABLESPACE TBS_TARIFAS_I';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/


DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'TA_SUBGRUPO'
       AND T.INDEX_NAME = 'TA_SUBGRUPO_UK1';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.TA_SUBGRUPO_UK1';
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TA_SUBGRUPO_UK1 ON TARIFAS.TA_SUBGRUPO (CDSUBGRUPO) TABLESPACE TBS_TARIFAS_I;';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TA_SUBGRUPO_UK1 ON TARIFAS.TA_SUBGRUPO (CDSUBGRUPO) TABLESPACE TBS_TARIFAS_I;';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/



DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'TA_PARAMETRO_TARIFA_PRODUTO'
       AND T.INDEX_NAME = 'TA_PARAMETRO_TARIFA_PRODUTO_UK1';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO_UK1';
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO_UK1 ON TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO (CDTARIFA_PRODUTO) TABLESPACE TBS_TARIFAS_I';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO_UK1 ON TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO (CDTARIFA_PRODUTO) TABLESPACE TBS_TARIFAS_I';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/


DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'TA_PARAMETRO_TARIFA_PRODUTO'
       AND T.INDEX_NAME = 'TA_PARAMETRO_TARIFA_PRODUTO_UK2';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO_UK2';
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO_UK2 ON TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO (IDCADASTRO_TARIFA) TABLESPACE TBS_TARIFAS_I';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO_UK2 ON TARIFAS.TA_PARAMETRO_TARIFA_PRODUTO (IDCADASTRO_TARIFA) TABLESPACE TBS_TARIFAS_I';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/



DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'TA_GRUPO'
       AND T.INDEX_NAME = 'TA_GRUPO_UK1';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.TA_GRUPO_UK1';
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TA_GRUPO_UK1 ON TARIFAS.TA_GRUPO (CDGRUPO) TABLESPACE TBS_TARIFAS_I';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TA_GRUPO_UK1 ON TARIFAS.TA_GRUPO (CDGRUPO) TABLESPACE TBS_TARIFAS_I';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/



DECLARE
  VN_EXISTE NUMBER := 0;
BEGIN
  BEGIN
    SELECT COUNT(1)
      INTO VN_EXISTE
      FROM ALL_INDEXES T 
     WHERE T.OWNER = 'TARIFAS' 
       AND T.TABLE_NAME = 'TB_PARAMETRO_TARIFA_COOPERATIVA'
       AND T.INDEX_NAME = 'TB_PARAMETRO_TARIFA_COOPERATIVA_UK1';
  EXCEPTION
    WHEN OTHERS THEN
      VN_EXISTE := 0;
  END;
  --
  IF VN_EXISTE > 0 THEN
    --
    EXECUTE IMMEDIATE 'DROP INDEX TARIFAS.TB_PARAMETRO_TARIFA_COOPERATIVA_UK1';
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TB_PARAMETRO_TARIFA_COOPERATIVA_UK1 ON TARIFAS.TB_PARAMETRO_TARIFA_COOPERATIVA (CDCOOPERATIVA) TABLESPACE TBS_TARIFAS_I';
    --
  ELSE
    --
    EXECUTE IMMEDIATE 'CREATE UNIQUE INDEX TARIFAS.TB_PARAMETRO_TARIFA_COOPERATIVA_UK1 ON TARIFAS.TB_PARAMETRO_TARIFA_COOPERATIVA (CDCOOPERATIVA) TABLESPACE TBS_TARIFAS_I';
    --
  END IF;
  --
  COMMIT;
  --
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
END;  
/
