<!--
  Programa: crap020.htm

  Alteracoes: 03/07/2009 - Aumento do campo Operador (Diego).
  
              21/08/2009 - Aumento do campo CÛdigo(operador) (Diego)
              
              14/12/2009 - Retirados radio Titular e Empr. Conveniada.
                           Colocados radios TED D e TED C (Fernando).
                           
              31/05/2010 - Pedir senha do coordenador se o valor do DOC
                           for maior que o saldo em conta do cooperado
                           (Fernando).
              
              24/09/2010 - Incluir campo v_cdidtran (Guilherme).
              
              21/01/2011 - Bloquear campo v_cdidtran para TED C em especie 
                           (Guilherme).
						   
			  25/08/2011 - Bloquear no destinatario, quando pessoa juridica, 
						   o segundo titular (Gabriel).
                           
              27/10/2011 - Limitado a 13 caracteres a conta destino (Gabriel)     
              
              17/10/2012 - Adicionado validaÁ„o no campo v_cpfcgcpara1 para 
                           apenas aceitar inteiros  (Daniel).  
                           
              11/09/2013 - Nova forma de chamar as agÍncias, de PAC agora 
                            a escrita ser· PA (AndrÈ EuzÈbio - Supero). 
                            
              12/08/2014 - Inclus„o da Obrigatoriedade do campo HistÛrico para TED/DOC  
                           com Finalidade "99-Outros" (Vanessa).  
                           
              20/04/2015 - Inclus„o do campo ISPB SD271603 FDR041 (Vanessa)                        
    
              05/02/2015 - Desabilitar botao de cancelar ao clicar no botao ok (Lucas Ranghetti #388683)                 

			  29/02/2016 - Tratamentos para utilizaÁao do Cartao CECRED e 
                           PinPad Novo (Lucas Lunelli - [PROJ290])			  
						   
              12/09/2016 - Adicionado chamada da funÁ„o "callBlass(event)" - (Evandro - RKAM). 	
    					   
			  22/09/2016 - CorreÁ„o bot„o pinpad (Lucas Lunelli - [PROJ290])	
			  
              02/06/2017 - Ajustes referentes ao Novo Catalogo do SPB(Lucas Ranghetti #668207)
			  
			  16/01/2018 - Aumentado tamanho do campo de senha para 30 caracteres. (PRJ339 - Reinert)			   			  

			  02/02/2019 - CorreÁ„o para o tipo de documento "TED C":
							-> Ao optar por "EspÈcie" deve ser permitir apenas para n„o cooperados
						   (Jonata - Mouts PRB0040337).
						   
			  30/08/2019 - CorreÁ„o o campo "CÛdigo Identificador TransferÍncia" para n„o aceitar acentos ou caracteres especiais.
						   PRB0041891 - Diego Batista Pereira da Silva - AILOS
-->


<html>

<head>
<meta http-equiv="Content-Language" content="pt-br">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="cache-control" content="no-cache">
<meta http-equiv="Pragma"        content="No-Cache">
<meta http-equiv="Expires"       content="0">
<script language=JavaScript src="/script/formatadadosie.js"></script>
<link rel=StyleSheet type="text/css" href="/script/viacredi.css">
<title>LANÄAMENTO INCLUS«O - BOLETIM CAIXA</title>

<script language=JavaScript src="/script/jquery.js"></script>
<script language="JavaScript">

var cnxPinpad; 		/* COMUNICA«√O PINPAD NOVO */
var WrkPinpad = ""; /* KEY DE COMUNICA«√O PINPAD NOVO */
var EncPinpad = ""; /* CRYTO PASSWORD */
var focoOK = true; /* CONTROLE DE FOCO CAMPO SENHA CART√O */

var lChangePara = false;

$(document).ready(function () {
	$(document.action.v_cdidtran).keyup(function (e) {
		this.value = removeAcentos(this.value);
	});

	$(document.action.v_cdidtran).onBlur(function (e) {
		this.value = removeAcentos(this.value);
	});  
});

/*
* 30/08/2019 - Diego Batista Pereira da Silva - AILOS
* FunÁ„o que retira acentos quaisquer ou caracteres especiais de uma palavra ou texto.
*/
function removeAcentos(str) {
	var valor = "";
	try {
		valor = str.normalize('NFD').replace(/([\u0300-\u036f]|[^0-9a-zA-Z\s])/g, ''); //N„o È compativel com IE
	} catch (e) {
		try {
			valor = str.replace(/[‡·‚„‰Â]/g, "a")
					  .replace(/[¿¡¬√ƒ≈]/g, "A")
					  .replace(/[“”‘’÷ÿ]/g, "O")
					  .replace(/[ÚÛÙıˆ¯]/g, "o")
					  .replace(/[»… À]/g, "E")
					  .replace(/[ËÈÍÎ]/g, "e")
					  .replace(/[«]/g, "C")
					  .replace(/[Á]/g, "c")
					  .replace(/[ÃÕŒœ]/g, "I")
					  .replace(/[ÏÌÓÔ]/g, "i")
					  .replace(/[Ÿ⁄€‹]/g, "U")
					  .replace(/[˘˙˚¸]/g, "u")
					  .replace(/[ˇ]/g, "y")
					  .replace(/[—]/g, "N")
					  .replace(/[Ò]/g, "n")
					  .replace(/[~^`¥®∫]/g, "")
					  .replace(/([\u0300-\u036f]|[^0-9a-zA-Z\s])/g, '');
		} catch (e) {
			valor = "";
		}
	}
	return valor;
}

function selectOpcao (opcao) {

	if (opcao == "C"){
	
		if (document.action.v_cartao.value == '') {
			document.getElementById('v_cartao').focus();
		}
	}
	if (opcao == "R"){
		cnxPinpad = fechaConexaoPinpadNovo(cnxPinpad);
	}
		
    formataOpcao(opcao,true);
}

function limpaCampos(limpa){

    // Limpar campos 
	for(var i=0;i<document.action.elements.length;i++) {
			if (document.action.elements[i].type == "text" || 
				document.action.elements[i].type == "password") {                
				if (!document.action.elements[i].readOnly &&
					document.action.elements[i].getAttribute("id") != "v_valordocumento") {
					if  (limpa) {
							document.action.elements[i].value="";
					}
				}                
			}
	}
                
}

function formataOpcao(opcao, limpa) {

	var desabilita;
	var exibe = (opcao == "R" ) ? "none" : "block";
	
    document.getElementById('divCartao').style.display = exibe;
    document.getElementById('divSenhaCartao').style.display = exibe;
	
    limpaCampos(limpa);
                
    desabilita = (document.action.v_nrocontade.value == "");
	document.action.v_dssencrd.disabled = (opcao == 'C') ? desabilita : false;
    document.action.v_nrocontade.disabled = true;
	
	if (document.action.TpDocto[2].checked){
	
		if (document.action.TpPagto[0].checked){
		
    document.action.v_nrocontade.disabled = (opcao == 'C') ? true : false;
                
    if  (opcao == "R") {
		document.action.v_nrocontade.focus();
	} else {
		document.action.v_cartao.focus();
    }
			
		}else if (document.action.TpPagto[1].checked){	 
		
			document.action.v_nrocontade.disabled = true;
				 
			document.action.v_nomede1.focus();
			
}
	}else{

		document.action.v_nrocontade.disabled = (opcao == 'C') ? true : false;
			
		if  (opcao == "R") {
			document.action.v_nrocontade.focus();
		} else {
			document.action.v_cartao.focus();
		}
	}
	
	
}

/*************** ROTINAS PINPAD NOVO ********************************/

function lerCartaoPinpadNovo(oPinpad) {

	var contador = 0;
	
	// Se nao houver conexao ativa, conecta */	
	oPinpad = conexaoPinpadNovo(oPinpad);
	
	if (oPinpad == false) {return;}
	
	document.getElementById('divAguardePassagem').style.display = "block";

	if (document.getElementById('v_cartao').value != "") {
		document.getElementById('v_cartao').value = ""
	}
	
	setTimeout(function(){
	
		while (document.getElementById('v_cartao').value == "") {
									
			if  (contador > 2) { break; }
			
			solicitaPassagemPinpadNovo(oPinpad, document.getElementById('v_cartao'));
			contador = contador + 1;	
		}
		
		oPinpad = fechaConexaoPinpadNovo(oPinpad);
		
		if  (document.getElementById('v_cartao').value != "") {
			document.getElementById('divAguardePassagem').style.display = "none";
			doIt();
		}
		
	},500);
}

function solicitaSenhaPinpadNovo(oPinpad, valor) {

	if (valor == ""){
		// Se nao houver conexao ativa, conecta */
		oPinpad = conexaoPinpadNovo(oPinpad);
		if (oPinpad == false) {return;}

		document.getElementById('divAguardeSenha').style.display = "block";
		
		obtemSenhaCypto(oPinpad, document.getElementById('v_nrdocard'), document.getElementById('v_dssencrd'), document.getElementById('divAguardeSenha'));	
	}
}

/*************** FIM ROTINAS PINPAD NOVO ********************************/

function enviaFormularioPinPad(strInput, strEvent) { 
    var strSenha = document.getElementById('v_dssencrd').value;
    
    if (window.event.keyCode == 13 && strSenha != "" && strSenha != " ") { 
        doIt();
    }       
}

function validaBanco(cdBanco){ 

	var opcao = (document.getElementById('v_opcao1').checked ) ? "R" : "C";
	
	if  (opcao == "C"){	
		document.action.vh_foco.value = 35;
	} else {
		document.action.vh_foco.value = 31;
	}
	
    if (cdBanco > 0 ) { 
        disableInfPara(true); 
        doIt();
    }else{
        disableInfPara(false); 
        doIt();
    }
}


function callconta(e) {
   if (e.keyCode == 121){ 
      if (document.forms[0].vh_doc.value == "V2")
         window.open('condoc.p','wcta','width=300,height=,310,scrollbars=auto,resizable=no,alwaysRaised=true,left=0,top=0');
      else if (document.forms[0].vh_doc.value == "V3")           
         window.open('conted.p','wcta','width=300,height=,120,scrollbars=auto,resizable=no,alwaysRaised=true,left=0,top=0');
   }
}

function callfin(e) { 
   if (e.keyCode == 123){ 
      if (document.forms[0].vh_doc.value == "V1" || document.forms[0].vh_doc.value == "V2")
         window.open('findoc.p','wcta','width=300,height=,330,scrollbars=auto,resizable=no,alwaysRaised=true,left=0,top=0');
      else if (document.forms[0].vh_doc.value == "V3")           
         window.open('finted.p','wcta','width=300,height=,400,scrollbars=auto,resizable=no,alwaysRaised=true,left=0,top=0');
   }
}

function controlaCampos(UsrEvent,TipoDocto){

	document.getElementById('label2').innerHTML = 'EspÈcie';

   switch (TipoDocto) {
   case "C":        
      document.action.TpPagto[0].disabled    = false;
      document.action.TpPagto[1].disabled    = false;
      
      if (UsrEvent)
         document.action.vh_foco.value = 17;
      break;
   
   case "D": 
      document.action.TpPagto[0].checked     = true;
      document.action.TpPagto[0].disabled    = true;
      document.action.TpPagto[1].disabled    = true;
     
      if (UsrEvent)
         document.action.vh_foco.value = 18;
        
      break;
   case "TEDC":
      document.action.TpPagto[0].disabled    = false;
      document.action.TpPagto[1].disabled    = false;
      document.action.v_cdidtran.value       = "";
      document.action.v_ispbif.disabled      = true;
      
	  document.getElementById('label2').innerHTML = 'EspÈcie (somente para n„o cooperados)';
	  
      if (UsrEvent)
         document.action.vh_foco.value = 19;
       break;
   case "TEDD":
      document.action.TpPagto[0].checked     = true;
      document.action.TpPagto[0].disabled    = true;
      document.action.TpPagto[1].disabled    = true;

      if (UsrEvent)
         document.action.vh_foco.value = 20;
      break;
   } 
   
}
   

/*
LÛgica para controle de acesso aos campos da p·gina
Desenvolvido por Robinson Rafael Koprowski
Obs: h· um coment·rio na sess„o "definitions" do arquivo crap020.w com os possÌveis
     controles de acesso.
*/
function selectDocto(UsrEvent, TipoDocto) {
   
   document.action.v_nrocontade.disabled = false;
   
   controlaCampos(UsrEvent,TipoDocto);
  
   // Fernando - desabilitar senha, pois quando troca de tela (DOC para TED) aparece a senha do coordenador
   if(document.action.v_senha != null && document.action.v_cod != null && (TipoDocto != "TEDD" && TipoDocto != "TEDC")){
       document.action.v_senha.value = "";
       document.action.v_cod.value = "";
   }

   if (document.action.TpDocto[1].checked || 
       document.action.TpDocto[3].checked ) {
       copyValuesDePara(); 
   }
   leaveContaDe(false);
   disableContaPara(false);

   if (document.action.TpDocto[1].checked || document.action.TpDocto[3].checked)
   
       disableInfPara(true); 
   else
       disableInfPara(false);
   
   if (document.action.TpDocto[0].checked || document.action.TpDocto[1].checked)
       disableIspb(true);
   else if(document.action.v_banco.value > 0)
       disableIspb(true);
   else
       disableIspb(false);

   disableOtherInfs(false);

   if (UsrEvent) {
      document.action.v_tpctdb.value = "";
      document.action.v_tpctcr.value = "";
      document.action.v_codfin.value = "";
      document.action.v_banco.value = "";
      doIt();
   }
   
    document.action.v_nrocontade.disabled = false;
}



/* Bloqueio do campo para TED C em especie */
function selectTpPagto(TipoPagto) {
  
   switch (TipoPagto) {
   case "D":        
       if (document.action.TpDocto[2].checked) {
           document.action.v_cdidtran.value = "";
           document.action.v_cdidtran.readOnly = false;
		   document.action.v_nrocontade.disabled = false;
       }else{
			document.action.v_nrocontade.disabled = false;
       }
		
      break;
   
   case "E":
      if (document.action.TpDocto[2].checked) {
          document.action.v_cdidtran.value = "";
          document.action.v_cdidtran.readOnly = true;
		  document.action.v_nrocontade.disabled = true;
		  disableInfDe(false);
      }else{ 
			document.action.v_nrocontade.disabled = false;
      }
      break;
   }
   
   limpaCampos(true);
      
   for (var i=0;i<document.action.TpDocto.length;i++) {
      if (document.action.TpDocto[i].checked) {
         controlaCampos(false,document.action.TpDocto[i].value);
      }
   }
   
}


function leaveContaDe(UsrEvent) {
   if (document.action.v_nrocontade.value != "" ||
       document.action.TpDocto[1].checked ||
       document.action.TpDocto[3].checked ){
       disableInfDe(true);
      
   }
   else {
      var lfocus = document.action.v_nomede1.disabled;
      disableInfDe(false);
      if (lfocus && UsrEvent)
         document.action.v_nomede1.focus();       
   }
}

function changeContaDe() {
   if (document.action.v_nrocontade.value != "") {
       document.action.vh_foco.value = 39;         
       doIt();
   }
}

function copyValuesDePara() {
   if (document.action.TpDocto[1].checked || document.action.TpDocto[3].checked) {
      document.action.v_nomepara1.value         = document.action.v_nomede1.value;
      document.action.v_nomepara2.value         = document.action.v_nomede2.value;
      document.action.v_cpfcgcpara1.value       = document.action.v_cpfcgcde1.value;
      document.action.v_cpfcgcpara2.value       = document.action.v_cpfcgcde2.value;

      document.action.PessoaPara[0].checked     = document.action.PessoaDe[0].checked;
      document.action.PessoaPara[1].checked     = document.action.PessoaDe[1].checked;
   }
}

function disableInfDe(ctrlEnable) {
   document.action.v_nomede1.disabled     = ctrlEnable;
   document.action.v_nomede2.disabled     = ctrlEnable;
   document.action.v_cpfcgcde1.disabled   = ctrlEnable;
   document.action.v_cpfcgcde2.disabled   = ctrlEnable;

   document.action.PessoaDe[0].disabled   = ctrlEnable;
   document.action.PessoaDe[1].disabled   = ctrlEnable;
}

function disableContaPara(ctrlEnable) {
   document.action.v_banco.disabled       = ctrlEnable;
   document.action.v_ispbif.disabled       = ctrlEnable;
   document.action.v_agencia.disabled     = ctrlEnable;
   document.action.v_nrocontapara.disabled = ctrlEnable;
}

function disableInfPara(ctrlEnable) {
   document.action.v_nomepara1.disabled   = ctrlEnable;
   document.action.v_nomepara2.disabled   = ctrlEnable;
   document.action.v_cpfcgcpara1.disabled = ctrlEnable;
   document.action.v_cpfcgcpara2.disabled = ctrlEnable;

   document.action.PessoaPara[0].disabled = ctrlEnable;
   document.action.PessoaPara[1].disabled = ctrlEnable;
}

function disableOtherInfs(ctrlEnable) {
   document.action.v_tpctdebito.disabled     = ctrlEnable;
   document.action.v_tpctcredito.disabled    = ctrlEnable;
   document.action.v_finalidade.disabled     = ctrlEnable;
   document.action.v_deschistorico.disabled  = ctrlEnable;
}

function disableIspb(ctrlEnable) {
    document.action.v_ispbif.disabled = ctrlEnable;
    //document.action.v_ispbif.value = "";
 }

function changeContaPara() {
   if (document.action.v_nrocontapara.value != "" || document.action.TpDocto[1].checked || document.action.TpDocto[3].checked) {
      document.action.vh_foco.value = 34;
      doIt();
   }
}

function leaveContaPara() {
   if (lChangePara && (document.action.v_nrocontapara.value != "" || document.action.TpDocto[1].checked || document.action.TpDocto[3].checked)) {
      document.action.vh_foco.value = 34;
      doIt();
   }
}


function leaveCpfCnpjDe() {
   if (lChangePara && (document.action.v_cpfcgcde1.value != "" || document.action.TpDocto[2].checked)) {
      document.action.vh_foco.value = 34;
      doIt();
   }
}

function doIt() { 
   
	var opcao = (document.getElementById('v_opcao1').checked ) ? "R" : "C";
	
	if  (opcao == "C"){
	
		cnxPinpad = conexaoPinpadNovo(cnxPinpad);
		if (cnxPinpad != false && typeof cnxPinpad != 'undefined') {
			fechaConexaoPinpadNovo(cnxPinpad);
		}
	
		if (EncPinpad != "" &&
			WrkPinpad != "") {
		document.getElementById('v_infocry').value = EncPinpad;		   
		document.getElementById('v_chvcry').value = WrkPinpad;
	}
   
	}
   
   document.action.submit();
   for (i=0;i<document.action.elements.length;i++) {
     document.action.elements[i].disabled = true;
   } 
 
     
}

function initPage() {
	
	var opcao = (document.getElementById('v_opcao1').checked ) ? "R" : "C";
	
   for (var i=0;i<document.action.TpDocto.length;i++) {
      if (document.action.TpDocto[i].checked) {
         selectDocto(false, document.action.TpDocto[i].value);
      }
   }
   document.action.v_tpctdb.value = document.action.v_tpctdebito.value;
   document.action.v_tpctcr.value = document.action.v_tpctcredito.value;
   document.action.v_codfin.value = document.action.v_finalidade.value;
   leaveContaDe(false);
   formataOpcao(opcao, false);
   mudaFoco();
   
}

// Se pessoa juridica, desabilita segundo titular senao habilita
function trataTit (flgjurid) {

	// Se juridica , limpa e desabilita
	if  (flgjurid) {
		 document.action.v_nomepara2.value = "";
		 document.action.v_cpfcgcpara2.value = "";
	}
	
	document.action.v_nomepara2.disabled   = flgjurid;
	document.action.v_cpfcgcpara2.disabled = flgjurid;	

}

function retornaTecla(e) {
	var keyValue = 0;	
	
	if (e.charCode) {
		keyValue = e.charCode; // Mozilla
	} else {
		keyValue = e.keyCode; // IE
	}
	
	return keyValue;
}

///fungco para validar campos do historico da TED///
function validaHistorico(obj,e,valid_value,replace){
   var keyValue = retornaTecla(e);
	
	if ((keyValue >= 35 && keyValue <= 40) || (keyValue == 8) || (keyValue == 46)) {
		return true;
	} else { 
		var text   = new String(obj.value);
		var textok = '';
		var temp   = '';
		var valid  = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ';
		var cont   = 0;
		
		if (replace == null) replace = false;
		
		if (replace) {
			var qtReplace = valid_value.length;
			
			for (var i = 0; i < qtReplace; i++) {
				eval('valid = valid.replace(/\\' + valid_value.substr(i,1) + '/g,"")');				
			}
		} else {		
			var valid  = valid + valid_value;
		}	
		
		for (var i = 0; i < text.length; i++) {
			temp = text.substr(i,1);
			
			if (valid.indexOf(temp) == '-1') {
				obj.value = textok;
				return false;
			} else {
				textok += temp.toUpperCase();
				cont++;
			}
		} 		
	}
	
	obj.value = textok;
	return true; 
}

</script>


</head>


<body background="/images/moeda.jpg" bgproperties="fixed" class="fundo" onLoad="JavaScript: initPage();" onKeyUp="callBlass(event); callBLini(event); callBLsal(event); callconta(event); callfin(event);"> 

<form name="action" onKeyDown="change_page(event)" method=post>

<input type="hidden" name="vh_foco" value="8">
<input type="hidden" name="v_msg">
<input type="hidden" name="vh_doc">
<!--campos para guardar os valores dos selection-lists pois estes sao dinamicos-->
<input type="hidden" name="v_tpctdb">
<input type="hidden" name="v_tpctcr">
<input type="hidden" name="v_codfin">
<input type="hidden" name="v_btn_ok" value="false">
<input type="hidden" name="v_btn_cancela" value="false">
<input type="hidden" name="v_msgsaldo" value="false">

<input type="hidden" name="v_infocry">
<input type="hidden" name="v_chvcry">
<input type="hidden" name="v_nrdocard" id="v_nrdocard">


<p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">&nbsp;</p>
<div align="center">
  <center>
  <table width="100%" class=cabtab>
    <tr>
      <td width="15%" align="center"> <input type="text" name="v_coop" size="11" class="transp" readOnly></td>
      <td width="20%" align="center"> PA&nbsp; <input type="text" name="v_pac" size="1" class="transp"  readOnly></td>
      <td width="20%" align="center"> CAIXA&nbsp; <input type="text" name="v_caixa" size="1" class="transp" readOnly></td>
      <td width="30%" align="center"> OPERADOR&nbsp; <input type="text" name="v_operador" size="7" class="transp" readOnly></td>
      <td width="15%" align="center"> <input type="text" name="v_data" size="10" class="transp" readOnly></td>
    </tr>
  </table>
  </center>
</div>

<div align="center">
  <center>
  <table width="100%" class=cabtab height="23">
    <tr>
      <td class=titulo height="19"> INCLUS√O DOC/TED</td>
      <td width="21%" class=programa align="right" height="19">P.020&nbsp; V.1.00</td>
    </tr>
  </table>
  </center>
</div>

<div align="center">
  <center>
    <table cellspacing = 0 cellpadding= 0 width=100%>
      <tr>
        <td width="100%" valign="middle" align="center">
          <div align="center">
            <center>
              <table width="100%" cellspacing = 0 cellpadding = 1 class=tcampo>
                <tr>
                  <td colspan="2">&nbsp;</td>
                </tr>
                <tr>                
                 <td class="linhaform" align="right">Documento:&nbsp;</td>
                  <td>
                    <table cellspacing="0" cellpadding="0" width="100%">
                      <tr>
                         <td class="linhaform">
                           <input type="radio" name="TpDocto" value="C"    onClick="JavaScript:selectDocto(true, this.value);" checked>DOC C
                           <input type="radio" name="TpDocto" value="D"    onClick="JavaScript:selectDocto(true, this.value);"        >DOC D
                           <input type="radio" name="TpDocto" value="TEDC" onClick="JavaScript:selectDocto(true, this.value);"        >TED C
                           <input type="radio" name="TpDocto" value="TEDD" onClick="JavaScript:selectDocto(true, this.value);"        >TED D
                         </td>                                      
                      </tr>
                    </table>
                  </td>               
                </tr>
                <tr>           
                 <td class="linhaform" align="right">Forma de Pagamento:&nbsp;</td>
                  <td>
                    <table cellspacing="0" cellpadding="0" width="100%">
                     <tr>
                       <td class="linhaform"> 
                            <input type="radio" id="TpPagto1" name="TpPagto" value="D" onClick="JavaScript:selectTpPagto(this.value);" checked> 
							<label for="TpPagto" id="label1">DÈbito em C/C</label>
                            <input type="radio" id="TpPagto2" name="TpPagto" value="E" onClick="JavaScript:selectTpPagto(this.value);"        > 
							<label for="TpPagto" id="label2">EspÈcie (somente para n„o cooperados)</label>
                       </td>
                     </tr>
                    </table>
                  </td>   
                </tr>
                <tr>
                  <td align="right" nowrap class="linhaform" colspan="2">
                    <hr class="input">
                  </td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">Valor:</td>
                  <td><input type="text" name="v_valordocumento" id="v_valordocumento" onKeyUp="callCalc(event, this)" onKeyDown="JavaScript:FormataValor(this,11,event)" size="17" class="input" maxlength="14" value="0,00"></td>
                </tr>
                <tr>
                  <td colspan="2">
                    <table width="100%">
                      <tr>
                        <td class="linhaform" width="5%">De:</td>
                        <td class="linhaform" nowrap><hr></td>
                      </tr>
                    </table>
                  </td>
                </tr>
                <tr>
                  <td></td>  
				  <td>
					<table>
						<tr>
							<td align="left" class="linhaform"><input type="radio" name="v_opcao" id="v_opcao1" value="R" onClick="JavaScript:selectOpcao('R');" checked> Recibo </td>
							<td style = "width: 50px">&nbsp;</td> 
							<td align="left" class="linhaform"><input type="radio" name="v_opcao" id="v_opcao2" value="C" onClick="JavaScript:selectOpcao('C');"> Cart„o</td>                                      
						</tr>
					</table>
				  </td>
				</tr>                
                </tr>
                <tr id="divCartao">
					<td align="right" class="linhaform">Cart„o:</td>
					<td><input type="password" name="v_cartao" id="v_cartao" size="50" class="input" maxlength="36" onFocus="if(this.value.length <= 0) { lerCartaoPinpadNovo(''); } else { v_banco.focus(); }"    onBlur="if(this.value.length <= 0) { v_opcao2.focus(); }" onClick="lerCartaoPinpadNovo('');" onKeyDown="JavaScript:validaInteiro(event); " onkeyup="if (this.value.length == 36){doIt();}" onChange="JavaScript:doIt();"  style="text-align: right"></td>
                </tr>
				<tr>
                  <td align="right" class="linhaform">Conta:</td>
                  <td><input type="text" name="v_nrocontade" size="10" class="input" maxlength="10" onKeyDown="JavaScript:validaInteiro(event); FormataConta(this,8,event);" onChange="JavaScript:changeContaDe();" onBlur="JavaScript:leaveContaDe(true);" style="text-align: right"></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">Tit1:&nbsp;</td>
                  <td class="linhaform"><input type="text" name="v_nomede1"  size="42" maxlength="40" class="input" onChange="JavaScript:copyValuesDePara();" style="font-weight: bold"></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">CNPJ/CPF:&nbsp;</td>
                  <td class="linhaform"><input type="text" name="v_cpfcgcde1"  maxlength="14" onKeyDown="JavaScript:validaInteiro(event)" size="18" onChange="JavaScript:copyValuesDePara();lChangePara=true;leaveCpfCnpjDe();" class="input"></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">Tit2:&nbsp;</td>
                  <td class="linhaform"><input type="text" name="v_nomede2" size="42" maxlength="40" class="input" onChange="JavaScript:copyValuesDePara();" style="font-weight: bold"></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">CNPJ/CPF:&nbsp;</td>
                  <td class="linhaform"><input type="text" name="v_cpfcgcde2" maxlength="14" onKeyDown="JavaScript:validaInteiro(event)" size="18" onChange="JavaScript:copyValuesDePara();" class="input"></td>
                </tr>
                <tr>
                 <td align="right" class="linhaform">Pessoa:</td>
                 <td>
                  <input type="radio" name="PessoaDe" value="V1" onClick="JavaScript:copyValuesDePara();" checked>FÌsica&nbsp; 
                  <input type="radio" name="PessoaDe" value="V2" onClick="JavaScript:copyValuesDePara();" >JurÌdica&nbsp;
                 </td>
                </tr>
                <tr>
                  <td colspan="2">
                    <table width="100%">
                      <tr>
                        <td class="linhaform" width="5%">Para:</td>
                        <td class="linhaform" nowrap><hr></td>
                      </tr>
                    </table>
                  </td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">Banco:</td>
                  <td>
                    <input type="text" name="v_banco" size="9" class="input" maxlength="3" onKeyDown="JavaScript:validaInteiro(event)" onChange="JavaScript:lChangePara=true; validaBanco(this.value)">
                    <input type="text" name="v_nomebanco" size="17" disabled maxlength="15" class="input">
                  </td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">ISPB:</td>
                  <td>
                    <input type="text" name="v_ispbif" size="9"  class="input" maxlength="8" onKeyDown="JavaScript:validaInteiro(event)" onChange="JavaScript:lChangePara=true; validaBanco(this.value)" >
                    <input type="text" name="v_nomeif" size="17" disabled maxlength="15" class="input">
                  </td>
                  </td>
                </tr>
                <tr>
                  <td align="right" class="linhaform" >AgÍncia:</td>
                  <td>
                    <input type="text" name="v_agencia" size="9" maxlength="4" class="input" onChange="JavaScript:lChangePara=true;">
                    <input type="text" name="v_nomeagencia" size="42" disabled maxlength="40" class="input">
                  </td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">Conta:</td>
                  <td><input type="text" name="v_nrocontapara" size="22" class="input" maxlength="20" onKeyDown="JavaScript:validaInteiro(event);" onChange="JavaScript:changeContaPara();" onBlur="JavaScript:leaveContaPara();" style="text-align: right"></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">Tit1:&nbsp;</td>
                  <td><input type="text" name="v_nomepara1"  size="42" class="input" maxlength="40" style="font-weight: bold"></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">CPF/CNPJ:&nbsp;</td>
                  <td><input type="text" name="v_cpfcgcpara1" size="18" onKeyDown="JavaScript:validaInteiro(event)" class="input" maxlength="14"></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">Tit2:&nbsp;</td>
                  <td><input type="text" name="v_nomepara2" size="42" class="input" maxlength="40" style="font-weight: bold"></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">CPF/CNPJ:&nbsp;</td>
                  <td><input type="text" name="v_cpfcgcpara2" maxlength="14" onKeyDown="JavaScript:validaInteiro(event)" size="18" class="input"></td>
                </tr>
                <tr>
                 <td align="right" class="linhaform">Pessoa:</td>
                 <td>
                  <input type="radio" name="PessoaPara" value="V1" checked onclick="trataTit(false);" >FÌsica&nbsp; 
                  <input type="radio" name="PessoaPara" value="V2" onclick="trataTit(true);" >JurÌdica&nbsp;
                 </td>
                </tr>
                <tr>
                  <td class="linhaform" colspan="2"><hr></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">Cta DÈbito:</td>
                  <td nowrap class="linhaform">
                    <select name="v_tpctdebito" size="1"  onChange="JavaScript:document.action.v_tpctdb.value=this.value;">
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">Cta CrÈdito:</td>
                  <td nowrap class="linhaform">
                    <select name="v_tpctcredito" size="1" onChange="JavaScript:document.action.v_tpctcr.value=this.value;">
                    </select>
                  </td>
                </tr>
                
                <tr>
                  <td align="right" class="linhaform">Finalidade:</td>
                  <td nowrap class="linhaform">
                    <select name="v_finalidade" size="1" onChange="JavaScript:document.action.v_codfin.value=this.value;">
                    </select>
                  </td>
                </tr>
                  <tr>
                  <td align="right" class="linhaform">Desc. Hist.:</td>
                  <td><input type="text" name="v_deschistorico" size="60" class="input" onKeyUp="validaHistorico(this,event,'')" onBlur="validaHistorico(this,event,'');" maxlength="50" ></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform">CÛdigo Identificador TransferÍncia:</td>
                  <td><input type="text" name="v_cdidtran" maxlength="25" size="35" class="input" maxlength="20"></td>
                </tr>
                <tr>
                  <td align="right">Imprimir Via do Cooperado:</td>  
				  <td>
					<div id="divImprViaCoop">
						<table>
							<tr>
								<td align="left" class="linhaform"><input type="radio" name="v_dsimpvia" id="v_dsimpvia1" value="S" checked> Sim</td>                                      
								<td style = "width: 25px">&nbsp;</td> 
								<td align="left" class="linhaform"><input type="radio" name="v_dsimpvia" id="v_dsimpvia2" value="N"> N„o </td>
							</tr>
						</table>
					</div>
				  </td>
                <tr>
                  <td align="right" class="linhaform"></td>
                  <td>&nbsp;</td>
                </tr>				
				<tr id="divSenhaCartao">
                  <td class=linhaform align="right">Senha Cart„o:</td>
                  <td ><input class="input" type="password" name="v_dssencrd" id="v_dssencrd" size="10" maxlength="6" onmousedown="return false;" onBlur="if (this.value != '') { } else { v_dsimpvia1.focus(); }"  onFocus="solicitaSenhaPinpadNovo('', this.value);" onKeyDown="JavaScript:validaInteiro(event);" style="text-align: right"></td>
                </tr>				
                <tr>
                  <td class=linhaform align="right">CÛdigo:</td>
                  <td ><input class=input type="text" name="v_cod" size="12" maxlength="10"></td>
                </tr>
                <tr>
                  <td class=linhaform align="right">Senha:</td>
                  <td ><input class=input type="password" name="v_senha" size="12" maxlength="30"></td>
                </tr>
                <tr>
                  <td align="right" class="linhaform"></td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td width="100%" align="middle" class="linhaform" colspan="2">
                    <input type="button" value="Ok" name="ok" class="button" onclick="document.action.ok.disabled='true';document.action.cancela.disabled='true';document.action.v_btn_ok.value='true'; doIt();">
                    <input type="button" value="Cancelar" name="cancela" class="button" onclick="document.action.cancela.disabled='true'; document.action.v_btn_cancela.value='true'; doIt();">
                  </td>
                </tr>
              </table>
            </center>
          </div>
          </td>
          </tr>
        </table>      
      </center>
    </div>
    <div align="center">
      <table width="100%">
        <tr>
          <td align="right" class="linhaform">
            <input type="button" value="Estorno" name="estorno1" class="button" onClick="JavaScript:redir_login('crap021.w')">
            <input type="button" value="Inclus„o" name="inclui" class="button" onClick="JavaScript:window.location = 'crap020.w' ">
          </td>
        </tr>
      </table>      
    </div>

<div id="divAguardeSenha" name="divAguardeSenha" style="display:none;  z-index: -1; width:100%; height:100px; margin-top:-120px; margin-left: 250px; margin-right:55px; text-align:center;" align="center" >
	<form>
		<table class="tableForm" style="text-align:center; background-color:rgb(255, 255, 206); width: 250px;">
			<tr>
				<td colspan="2" id = "msgAguardeSenha"><font style="font-family: Arial, Verdana, sans-serif; font-size:11pt;">Aguarde a digitaÁ„o da senha</font></td>
			</tr>
		</table>        
    </form>
</div>	

<div id="divAguardePassagem" name="divAguardePassagem" style="display:none; z-index: -1; position:fixed; width:100%; height:100px; margin-top:-645px; margin-left: 650px; margin-right:55px; text-align:center;" align="center" >
	<form>
		<table class="tableForm" style="text-align:center; background-color:rgb(255, 255, 206); width: 250px;">
			<tr>
				<td colspan="2" id = "msgAguardePassagem"><font style="font-family: Arial, Verdana, sans-serif; font-size:11pt;">Aguarde a passagem do cart„o</font></td>
			</tr>
		</table>        
	</form>
    </div>
	
</form>
</body>

</html>





