<!--
Programa: siscaixa/web/crap011.htm
Sistema : CAIXA ON-LINE                                       
                                             Ultima atualizacao: 27/12/2017
   
Dados referentes ao programa:

Frequencia: Diario ON-LINE
Objetivo  : Lancamento Inclusao - Boletim de Caixa (Rotina 11).

Alteracoes: 30/04/2009 - Diminuido o tamanho do campo "Descricao Complemento"
                         (Elton).
						 
            06/07/2009 - Aumento do campo Operador (Diego).
			
			21/08/2009 - Aumento do campo Código(operador) (Diego).
            
            23/11/2009 - Alteracao Codigo Historico (Kbase).
            
            04/09/2013 - Nova forma de chamar as agências, de PAC agora 
                         a escrita será PA (André Euzébio - Supero).

            12/09/2016 - Adicionado chamada da função "callBlass(event)" - (Evandro - RKAM). 

            14/11/2017 - Auste para permitir lancamento de saque decorrente a devolucao de capital (Jonata - RKAM P364).
			
			11/12/2017 - Alterado para desabilitar o botão de estorno para os tipos 
						 de operação Devolução de Capital e Devolução de Disponível. (Reinert)

            27/12/2017 - Alterado para controlar submit do form e ajustar foco nos campos
                        (Jonata - MOUTS SD 812703/810959 )
------------------------------------------------------------------------------->

<html>

<head>
<meta http-equiv="Content-Language" content="pt-br">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="cache-control" content="no-cache">
<meta http-equiv="Pragma"        content="No-Cache">
<meta http-equiv="Expires"       content="0">
<script language=JavaScript src="/script/formatadadosie.js"></script>
<script language=JavaScript src="/script/jquery.js"></script>
<link rel=StyleSheet type="text/css" href="/script/viacredi.css">
<title>LAN€AMENTO INCLUSÇO - BOLETIM CAIXA</title>

    <script language="JavaScript">

		
	    var auxSub = false;
 
	
		function VerificaSubmit(){
			if(!auxSub){
				auxSub = true;
				return true;
			}else{
				return false;
			}
		}

       function efetuaOperacao(){
        
          $('#v_aux_valor').val($('#v_valor').val());
          desabok();
          document.form1.submit();
          
        }
        
		function limpaCampos(){
          
			// Limpar campos 
			for(var i=0;i<document.form1.elements.length;i++) {
					if (document.form1.elements[i].type == "text" || 
						document.form1.elements[i].type == "password") {                
						if (!document.form1.elements[i].readOnly ) {
							
							document.form1.elements[i].value="";
							
						}                
					}
			}
		}			
				   
        function controlaLayout(){

          
			for (var i=0;i< document.form1.v_tpoperacao.length;i++) {
            
              
			    if (document.form1.v_tpoperacao[i].checked) {
				   	
					 limpaCampos(); 
					 document.form1.v_sequencia_ope.value="1";
					 
                 $('#v_conta').css('display','block'); 
                 $('#v_conta2').css('display','block'); 
                 $('#v_nome').css('display','block');
                   
					 if(document.form1.v_tpoperacao[i].value == "1"){				 
						
                   $('#v_conta').css('display','none');
                   $('#v_conta2').css('display','none');
                   $('#v_nome').css('display','none');
                   
						 document.form1.v_conta.disabled=true;
                   document.form1.v_valor.disabled=false;
						 document.form1.v_conta.value="";
						 document.form1.v_hist.disabled=false;
                    
						 document.form1.v_hist.value="";
						 document.form1.v_aux_hist.value="";
						 $('#estorno').css('display', 'block');
						 
						  $('#v_doc').css('display','none');
						 document.form1.v_hist.focus();
						 
					 }else if(document.form1.v_tpoperacao[i].value == "2"){
					 
                   
						 document.form1.v_conta.disabled=false;
                   document.form1.v_valor.disabled=true;
						 document.form1.v_hist.disabled=true;
						 document.form1.v_hist.value="2083";
						 document.form1.v_aux_hist.value="2083";
						 $('#estorno').css('display', 'none');
						 document.form1.submit();
						 
					 }else if(document.form1.v_tpoperacao[i].value == "3"){
					 
						document.form1.v_conta.disabled=false;
                  document.form1.v_valor.disabled=true;
						document.form1.v_hist.disabled=true;
						document.form1.v_hist.value="2065";
						document.form1.v_aux_hist.value="2065";
						$('#estorno').css('display', 'none');
						document.form1.submit();

					}
				  
			    }
            }

        }
        
        function escondeCampo(){
        
           for (var i=0;i< document.form1.v_tpoperacao.length;i++) {            
              
              if (document.form1.v_tpoperacao[i].checked) {
                 if(document.form1.v_tpoperacao[i].value == "1"){				 
                   $('#v_conta').css('display','none');
                   $('#v_conta2').css('display','none');
                   $('#v_nome').css('display','none');
                   $('#estorno').css('display', 'block');
                   
                   document.form1.v_conta.disabled=true;
                   document.form1.v_valor.disabled=false;
                   document.form1.v_hist.disabled=false;
                 }else {
                                  
                    $('#estorno').css('display', 'none'); 
                    $('#v_dscomplem').css('display','none');

                }
              }
           } 
        }
               
    </script>

</head>


<body background="/images/moeda.jpg" bgproperties="fixed" class="fundo" onLoad="JavaScript: mudaFoco(); click(); escondeCampo();" onKeyUp="callBlass(event); callBLini(event); callBLsal(event);"> 
	<form name="form1" onKeyDown="change_page(event)" onsubmit="return VerificaSubmit();" method=post>
<input type="hidden" name="vh_foco" value="7">
<input type="hidden" name="v_msg">
		<input type="hidden" name="v_sequencia_ope">
		<input type="hidden" name="v_aux_hist">
    <input type="hidden" name="v_aux_valor" id="v_aux_valor">
		<input type="hidden" name="v_origem_devol">

<p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">&nbsp;</p>
<div align="center">
    <center>
    <table width="100%" class=cabtab>
    <tr>
        <td width="15%" align="center"> <input type="text" name="v_coop" size="11" class="transp" readOnly>
        </td>
        <td width="20%" align="center"> PA&nbsp; <input type="text" name="v_pac" size="1" class="transp"  readOnly>
        </td>
        <td width="20%" align="center"> CAIXA&nbsp; <input type="text" name="v_caixa" size="1" class="transp" readOnly>
        </td>
        <td width="30%" align="center"> OPERADOR&nbsp; <input type="text" name="v_operador" size="7" class="transp" readOnly>
        </td>
        <td width="15%" align="center"> <input type="text" name="v_data" size="10" class="transp" readOnly>
        </td>
    </tr>
    </table>
    </center>
</div>
<div align="center">
    <center>
    <table width="100%" class=cabtab>
    <tr>
        <td class=titulo>LANÇAMENTO INCLUSÃO - BOLETIM DE CAIXA</td>
        <td width="21%" class=programa align="right">P.011&nbsp; V.1.00</td>
    </tr>
    </table>
    </center>
</div>
<div align="center">
    <center>
			
            <table cellspacing=0 cellpadding=0 width=100%>
                <tr>
                    <td width="100%" valign="middle" align="center">
                        <div align="center">
                            <center>
                                <table width="101%" cellspacing=0 cellpadding=1 class=tcampo>
                                    <tr>
											<td width="20%"></td>
					<td align="left" class="linhaform"><input type="radio" name="v_tpoperacao" id="v_tpoperacao" value="1" onclick="controlaLayout();" checked> Acertos via Caixa </td>
											<td align="left" class="linhaform"><input type="radio" name="v_tpoperacao" value="2" onclick="controlaLayout(); "> Devolução de Capital </td>
					<td align="left" class="linhaform"><input type="radio" name="v_tpoperacao" value="3" onclick="controlaLayout(); "> Devolução de Disponível </td>
											<td width="20%"></td>
										</tr>
									</table>
									<table width="101%" cellspacing=0 cellpadding=1 class=tcampo>
										<tr>
                                        <td width="34%" align="right" class="linhaform">&nbsp;</td>
                                        <td width="67%"></td>
											<td width="20%"></td>
                                    </tr>
                                    <tr>
				<td width="34%" align="right" class="linhaform">
          <label for="v_conta" id="v_conta2" name="v_conta2">Conta:</label>
        </td>
				<td width="67%">          
					<input type="text" id="v_conta" name="v_conta" size="10" class="input" onChange="document.form1.submit();" onkeydown="JavaScript:validaInteiro(event); FormataConta(this,8,event);" style="text-align: right">
					<input type="text" name="v_nome" id="v_nome" size="40" class="input" disabled maxlength="40" style="font-weight: bold">
				</td>					 
											<td width="20%"></td>
                                    </tr>
                                    <tr>
                                        <td width="34%" align="right" class="linhaform">Histórico:</td>
                                        <td width="67%">
												<input type="text" name="v_hist" id="v_hist" size="5" class="input" maxlength="4" disabled onkeydown="JavaScript:validaInteiro(event)" onchange="document.forms[0].submit(); for(var i=0;i<document.forms[0].length;i++){document.forms[0].elements[i].disabled=true;}">
                                        </td>
											<td width="20%"></td>
                                    </tr>
                                    <tr>
                                        <td width="34%" align="right" class="linhaform">Descrição Histórico:</td>
                                        <td width="67%"><input type="text" name="v_deschist" size="50" class="input" disabled></td>
											<td width="20%"></td>
                                    </tr>
                                    <tr>
                                        <td width="34%" align="right" class="linhaform" nowrap>
                                            Cód. Histórico
                                            Contabil.:
                                        </td>
                                        <td width="67%"><input type="text" name="v_chistcont" size="5" class="input" disabled></td>
											<td width="20%"></td>
                                    </tr>
                                    <tr>
                                        <td width="34%" align="right" class="linhaform">Conta Débito:</td>
                                        <td width="67%"><input type="text" name="v_cdeb" size="4" class="input" disabled></td>
											<td width="20%"></td>
                                    </tr>
                                    <tr>
                                        <td width="34%" align="right" class="linhaform">Conta Crédito:</td>
                                        <td width="67%"><input type="text" name="v_ccred" size="4" class="input" disabled></td>
											<td width="20%"></td>
                                    </tr>
                                    <tr>
          <td width="34%" align="right" nowrap class="linhaform">
            <label for="v_complem1" id="v_dscomplem" name="v_dscomplem">Descrição Complemento:</label>
          </td>
                                        <td class="linhaform"><input type="text" name="v_complem1" size="28" maxlength="26" class="input" style="font-weight: bold" onkeyup="validaDescricao(this.name,this.value)"></td>
											<td width="20%"></td>
                                    <tr>
                                        <td width="34%" align="right" nowrap class="linhaform"> </td>
                                        <td class="linhaform"><input type="text" name="v_complem2" size="28" maxlength="26" class="input" style="font-weight: bold" onkeyup="validaDescricao(this.name,this.value)"></td>
											<td width="20%"></td>
                                    </tr>
                                    <tr>
                                        <td width="34%" align="right" nowrap class="linhaform"> </td>
                                        <td class="linhaform"><input type="text" name="v_complem3" size="28" maxlength="26" class="input" style="font-weight: bold" onkeyup="validaDescricao(this.name,this.value)"></td>
                                    </tr>

                                    <tr>
                                        <td width="34%" align="right" class="linhaform">Valor:</td>
                                        <td width="67%"><input type="text" name="v_valor" id="v_valor" onkeyup="callCalc(event, this)" onkeydown="JavaScript:FormataValor(this,11,event)" size="17" class="input" maxlength="14" style="text-align: right"></td>
											<td width="20%"></td>
                                    </tr>

                                    <tr>
                                        <td width="34%" align="right" class="linhaform">Documento:<br><br></td>
                                        <td width="67%"><input type="text" id="v_doc" name="v_doc" maxlength="6" onkeydown="JavaScript:validaInteiro(event)" size="8" class="input"><br><br></td>
											<td width="20%"></td>
                                    </tr>

                                    <tr>
                                        <td class=linhaform align="right">Código:</td>
                                        <td><input class=input type="text" name="v_cod" size="12" maxlength="10"></td>
                                    </tr>
                                    <tr>
                                        <td class=linhaform align="right">Senha:</td>
                                        <td><input class=input type="password" name="v_senha" size="12" maxlength="10"></td>
											<td width="20%"></td>
                                    </tr>
                                    <tr>
                                        <td width="34%" align="right" class="linhaform"></td>
                                        <td width="67%">&nbsp;</td>
											<td width="20%"></td>
                                    </tr>
                                    <tr>
                                        <td width="100%" align="center" class="linhaform" colspan="2">
                                            <input type="submit" value="Ok" name="sok" class="button" onclick="efetuaOperacao();">
                                            <input type="submit" value="Cancelar" name="cancela" class="button">
                                            <input type="hidden" name="ok" value="">
                                        </td>
                                    </tr>
                <tr>
                                        <td width="34%" align="right" class="linhaform"></td>
                                        <td width="67%">&nbsp;</td>
											<td width="20%"></td>
                                    </tr>
                                </table>
                            </center>
                        </div>
          </td>
                </tr>
            </table>
</center>
</div>
<div align="center">
 <table width="100%">
       <tr>
          <td align="right" class="linhaform">
          <input type="button" value="Estorno" name="estorno" id="estorno" class="button" onClick="JavaScript:redir_login('crap010.w')">
          <input type="button" value="Consulta" name="consul" class="button" onClick="location='crap009.p'"></td>
       </tr>
 </table>
</div>
</form>
</body>

</html>
