DECLARE
  TYPE typ_des_cartoes IS VARRAY(1151) OF NUMBER(25, 0);
  vr_typ_des_cartoes typ_des_cartoes := typ_des_cartoes(9000003000010001,9000004000000021,9000005000010021,9000006000005031,9000007000010041,9000008000010051,9000009000010061,9000012000005011,
                                                        9000012000010071,9000014000005001,9000014000010091,9000016000010101,9000017000010111,9000018000010121,9000019000010131,9000021000010051,
                                                        9000022000010151,9000023000010161,9000024000010171,9000026000010191,9000027000010201,9000028000001621,9000029000001631,9000031000001731,
                                                        9000033000001711,9000035000001391,9000036000000691,9000040000001901,9000041000051991,9000042000001641,9000043000001681,9000044000001831,
                                                        9000046000002141,9000047000002071,9000048000002161,9000049000002201,9000050000002181,9000051000003161,9000052000003221,9000053000003381,
                                                        9000064000005011,9000065000005021,9000075000000071,9000219000005041,9000254000006011,9000255000006021,9000256000005021,9000648000000091,
                                                        9000741000006001,9000766000005041,9000930000009011,9000951000000181,9000983000000201,9000984000000141,9000985000000171,9001011000005061,
                                                        9001012000005071,9001013000005081,9001022000000081,9001139000005031,9001349000001771,9001565000000231,9001567000000161,9001568000000131,
                                                        9001875000005031,9002207000000181,9002210000000251,9002218000001881,9002237000000541,9002238000001021,9002239000000701,9002244000000391,
                                                        9002248000006081,9002251000006111,9002274000000461,9002316000000751,9002322000014251,9002345000001091,9002364000000251,9002365000000981,
                                                        9002399000041771,9002401000001391,9002402000014181,9002413000001161,9002479000005071,9002480000005081,9002971000000121,9003081000005041,
                                                        9003198000006121,9003387000000191,9003608000000111,9003760000000241,9003970000000081,9003971000000401,9003972000000411,9004003000005141,
                                                        9004160000005151,9004414000005021,9004418000000301,9004704000000361,9004797000000421,9004880000005061,9005089000005071,9005095000005051,
                                                        9005096000005061,9005435000000191,9005445000000551,9005492000000351,9005612000000491,9005676000005101,9005701000000781,9005747000005011,
                                                        9005848000005081,9005933000005171,9005961000000231,9005962000000161,9005963000000131,9006323000005091,9006324000005101,9006348000000281,
                                                        9006352000000571,9006359000000771,9006425000033021,9006428000033021,9006444000000861,9006456000001091,9006459000000761,9006482000000881,
                                                        9006484000000081,9006485000000401,9006486000000411,9006521000000451,9006551000001781,9006626000000411,9006693000005001,9007270000000331,
                                                        9007463000000451,9008057000006151,9008058000006161,9008753000005081,9009020000006121,9009216000000731,9009234000006181,9009724000000721,
                                                        9010177000005111,9010178000005121,9010179000005131,9010214000005091,9010946000000601,9011534000005141,9011786000000531,9011825000006221,
                                                        9011879000000291,9012266000006231,9012395000005011,9012396000005021,9012474000006241,9013701000005111,9013753000005121,9013934000000921,
                                                        9014129000006001,9014270000000751,9014370000000071,9014782000005071,9014783000005081,9014871000000801,9014921000005131,9015787000000201,
                                                        9015788000000141,9015789000000171,9015791000000081,9016169000000971,9016171000000441,9016314000001501,9016428000005001,9016557000001321,
                                                        9016640000001371,9016731000005161,9017930000001121,9017930000006261,9018085000001081,9018340000000151,9018575000000121,9018588000006171,
                                                        9018866000001371,9019261000005161,9019483000006011,9019484000006021,9019485000005021,9019499000001341,9019673000001611,9019857000005081,
                                                        9020018000001651,9020098000005081,9020420000000241,9020864000031811,9021123000001491,9021205000001641,9021293000000361,9021322000001081,
                                                        9021335000001111,9021336000000421,9021337000002011,9021338000000511,9021345000000921,9021346000001121,9021348000001671,9021349000001591,
                                                        9021350000001781,9021352000002061,9021353000000661,9021354000002081,9021356000032001,9021419000002331,9021420000001641,9021421000000301,
                                                        9021422000000411,9021423000002231,9021432000001441,9021435000001481,9021436000000331,9021437000002061,9021439000001931,9021441000002601,
                                                        9021442000002701,9021444000002671,9021445000001001,9021447000002441,9021449000002831,9021450000002561,9021451000002871,9021452000000351,
                                                        9021454000000731,9021456000003641,9021457000002711,9021458000000721,9021459000002751,9021460000003711,9021464000000601,9021470000001881,
                                                        9021471000000531,9021472000000291,9021474000000611,9021480000002521,9021490000002351,9021502000004021,9021507000000881,9021510000004221,
                                                        9021541000002741,9021664000005181,9022865000006321,9022935000005071,9022996000000091,9023080000006071,9023081000006331,9023890000006341,
                                                        9025568000005161,9025638000009011,9026281000006371,9026369000006381,9026370000006391,9026451000000911,9026465000001051,9026544000006141,
                                                        9027248000005191,9027249000005201,9027807000000601,9028195000006411,9028594000006421,9030690000006081,9030691000006091,9030692000006101,
                                                        9030695000005211,9030696000005221,9030697000005231,9030942000000521,9030943000000521,9031288000005151,9031533000005091,9031534000005101,
                                                        9033750000006481,9033751000006491,9033759000006361,9033965000006311,9034102000006361,9034103000006451,9034234000006501,9034471000006521,
                                                        9034772000006531,9034888000007001,9034889000007011,9034890000007021,9035078000006561,9035134000006571,9035412000005161,9035413000005081,
                                                        9035430000006591,9035440000006611,9035483000006121,9035577000006181,9035611000006621,9035615000006581,9035937000006631,9035980000006211,
                                                        9035981000006471,9035982000006641,9036006000006221,9036084000006241,9036208000002601,9036215000002921,9036222000002931,9036326000002681,
                                                        9036329000003051,9036337000003081,9036347000006361,9036353000102561,9036360000042991,9036387000043191,9036398000043331,9036403000043111,
                                                        9036405000006641,9036407000006261,9036423000006211,9036424000002181,9036425000003111,9036476000002661,9036478000006661,9036486000003661,
                                                        9036487000003551,9036496000006651,9036515000002711,9036520000043111,9036543000006321,9036545000015151,9036546000015161,9036548000001351,
                                                        9036549000003751,9036550000004481,9036551000006071,9036552000006331,9036558000003701,9036562000006341,9036588000006431,9036591000001371,
                                                        9036599000006371,9036600000006381,9036602000006141,9036604000002901,9036607000003631,9036608000004651,9036609000006601,9036613000002991,
                                                        9036620000006411,9036625000006421,9036626000004881,9036639000004871,9036642000004931,9036675000004371,9036676000003401,9036680000005241,
                                                        9036684000005091,9036684000005311,9036685000005241,9037036000005251,9038148000001161,9040970000005241,9041458000005111,9041459000005121,
                                                        9041460000005131,9042394000005131,9042395000005261,9043633000005271,9043750000005291,9045367000000601,9046729000005021,9046782000005131,
                                                        9046783000005141,9047949000005281,9050038000005301,9050039000005311,9050040000005321,9050041000005331,9050042000005341,9050859000005321,
                                                        9053831000001141,9054234000009541,9054805000007001,9054806000007011,9054807000007021,9056046000005071,9056048000005161,9056539000005361,
                                                        9057763000005381,9059338000005331,9059565000001161,9061085000005171,9061138000005411,9061196000005431,9061197000005441,9061742000005341,
                                                        9061882000005351,9063555000005251,9063968000005241,9064220000005451,9065363000005361,9065505000005461,9065915000005481,9066154000005281,
                                                        9066680000005371,9067616000000521,9067617000005291,9068297000005501,9068652000003011,9069518000005391,9069519000005401,9069520000005411,
                                                        9069521000005421,9069522000005431,9069523000005441,9069527000005481,9069528000005491,9069529000005501,9069530000005511,9069531000005501,
                                                        9069532000005521,9069533000005531,9069535000005551,9069536000005561,9069537000005201,9070236000005591,9070638000005081,9071877000005321,
                                                        9072827000003081,9073375000002061,9073540000005541,9073541000005551,9073542000005561,9073543000005571,9073716000005581,9073717000005591,
                                                        9073838000005551,9074657000005601,9074821000005641,9074889000005521,9075463000005541,9075615000005131,9075616000005261,9076025000005331,
                                                        9077247000005341,9077248000005351,9078302000005361,9078467000005371,9078472000003081,9078473000003111,9078496000003151,9078527000005691,
                                                        9078577000005711,9078582000005661,9078666000005741,9078745000001141,9078747000005401,9078748000005421,9078750000005461,9078751000005481,
                                                        9078754000005511,9078756000005531,9078757000005561,9078801000009541,9078853000005781,9078897000005701,9078977000005601,9079009000002061,
                                                        9079030000005811,9079043000005671,9079046000005831,9079061000005621,9079114000005641,9079136000005851,9079202000005791,9079226000005281,
                                                        9079235000005811,9079277000004631,9079297000004611,9079298000002451,9079302000005861,9079323000005871,9079328000004251,9079337000005901,
                                                        9079338000004611,9079349000005881,9079350000005891,9079351000005911,9079353000004511,9079356000005201,9079360000004731,9079365000005931,
                                                        9079375000004591,9079383000004701,9079395000005691,9079396000005981,9079401000006001,9079405000005961,9079406000005711,9079433000007411,
                                                        9079447000005741,9079471000005551,9079483000005781,9079484000005991,9079486000005721,9079493000005541,9079509000007031,9079521000205011,
                                                        9079526000005831,9080484000005191,9080485000005201,9080859000005631,9080860000005641,9080861000005651,9082156000005671,9085977000005681,
                                                        9086042000005691,9086242000005701,9086243000005711,9090362000005721,9092043000005731,9092044000005741,9092588000005751,9094944000005101,
                                                        9101992000005781,9102249000005791,9102878000005831,9104850000005841,9104851000005851,9105255000005861,9106584000005871,9106585000005881,
                                                        9107304000005901,9122586000005281,9131159000005991,9131160000006011,9142829000006021,9143185000006041,9149176000006051,9149177000006061,
                                                        9149179000006081,9149180000006091,9149182000006111,9154039000006131,9155811000006151,9157318000006161,9157724000006181,9164087000006201,
                                                        9164088000006211,9164455000006231,9164456000006241,9164884000006251,9174713000006271,9195212000006321,9195213000006331,9195217000006371,
                                                        9195510000006401,9221779000006831,9243303000005871,9243304000005881,9256320000005431,9271733000015111,9290543000015201,9321421000006211,
                                                        9325709000015411,9334892000015471,9385890000025011,9385891000025021,9385892000025031,9385893000025041,9385894000025051,9405505000025181,
                                                        9415634000025231,9415635000025241,9419610000025251,9426025000008241,9430004000001131,9432030000001151,9432221000001171,9433034000001221,
                                                        9437006000001251,9437007000001271,9438346000001351,9443733000008511,9444827000008601,9445376000008911,9445377000008901,9446966000008701,
                                                        9447330000008441,9448752000008801,9449513000008931,9449967000008201,9449968000008941,9451013000025481,9451102000008971,9451808000025491,
                                                        9453994000025501,9455407000015431,9456833000008971,9457155000008981,9457156000009061,9457385000008241,9457386000009001,9457387000008911,
                                                        9457441000008991,9458105000009111,9458132000009121,9459409000001201,9459411000009801,9460027000009081,9460214000009091,9460798000009191,
                                                        9460858000009151,9461197000009511,9461199000009531,9461304000009161,9461542000009201,9462304000025541,9462445000009251,9462607000009261,
                                                        9462950000009241,9463848000009171,9464186000009091,9464482000009201,9464892000009301,9465201000009111,9465202000009311,9465259000008801,
                                                        9465525000009321,9465974000009351,9466590000009411,9466948000009361,9466971000008501,9467120000001131,9467441000013131,9467613000009261,
                                                        9467894000002771,9468249000009001,9468250000001961,9468251000001331,9468520000008971,9468716000003391,9468838000002681,9468894000008801,
                                                        9468996000001151,9469058000009501,9469419000009161,9469584000001871,9469639000001171,9470234000003221,9470252000001221,9470366000001071,
                                                        9470421000008511,9470644000001841,9470645000003481,9470677000003631,9470806000003051,9470942000003231,9471747000009311,9471752000003671,
                                                        9471831000003831,9471921000009521,9471966000003591,9472507000009261,9473088000001251,9473089000001271,9474164000006821,9474247000001351,
                                                        9474632000003321,9474640000003761,9474828000008361,9475301000003031,9475555000009241,9475740000003051,9476187000004991,9476298000005031,
                                                        9476786000004951,9477016000005021,9477119000003391,9477153000004521,9477343000003741,9477398000005671,9477588000008601,9477600000004641,
                                                        9477632000003321,9477639000000501,9477640000003051,9478818000008701,9478819000008441,9479285000005741,9479571000008931,9479572000008201,
                                                        9479573000008941,9479601000001761,9479663000005031,9479930000006141,9480034000003311,9480092000004911,9480309000005081,9480399000004711,
                                                        9481086000005961,9481097000009001,9481313000006271,9481800000005731,9482292000006191,9482303000008981,9482304000009061,9482598000008241,
                                                        9482599000008911,9482600000008991,9486114000015491,9498011000025721,9498141000025771,9503537000006961,9507777000025881,9507784000025941,
                                                        9542425000025501,9542775000006131,9550423000025991,9552529000018001,9555558000026021,9559422000025651,9563726000026051,9564885000026061,
                                                        9574205000015031,9586415000015341,9586416000015371,9588592000015511,9595835000066031,9605347000006371,9608774000025831,9613300000006771,
                                                        9613304000066101,9613305000066111,9626029000066151,9632131000015531,9633767170226101,9637511000066201,9642325000025151,9643667000066241,
                                                        9657712000006111,9660738000015041,9672530000066451,9678590000005871,9678591000005881,9678593000018041,9687386000025011,9687387000025021,
                                                        9687388000025031,9687389000025041,9687390000025051,9689651000006751,9689996000066471,9692252000066491,9692261000066501,9692262000066511,
                                                        9693539000025301,9699226000066561,9710647000066581,9714639000066631,9716466000006151,9717497000066361,9717758000066691,9717764000025191,
                                                        9718728000025181,9722773000025231,9722774000025241,9724085000066811,9725470000066721,9734164000005671,9737081000066761,9737083000066771,
                                                        9748760000026011,9749575000066851,9753383000066201,9756355000025481,9756599000066881,9758379000025741,9758414000015421,9762919000025541,
                                                        9763041000066961,9763331000066991,9763334000070001,9764548000018021,9764746000025571,9765582000015461,9766165000025621,9766167000025681,
                                                        9766482000070041,9766499000070051,9766684000025861,9766698000070061,9766808000066451,9766867000015531,9767180000006711,9767342000070081,
                                                        9768731000066141,9769597000066041,9770306000006201,9770307000006211,9770308000015471,9770312000025881,9770314000025901,9770315000025911,
                                                        9770317000025941,9770376000025711,9772887000066651,9773877000005781,9774079000025991,9774405000070261,9774878000005791,9775323000026051,
                                                        9775324000026061,9776072000070291,9776847000005851,9778019000070331,9778085000005701,9778768000006281,9778936000025261,9778991000066411,
                                                        9779623000005621,9779736000025551,9779876000066251,9779890000070351,9780124000070371,9780241000066971,9781007000047811,9781577000006831,
                                                        9781818000025811,9782067000066911,9782269000025741,9782888000066871,9782889000070461,9783221000066101,9783222000066111,9783224000026091,
                                                        9783789000015411,9783932000070511,9783935000070521,9784130000066591,9784200000025851,9784415000066151,9784759000070531,9784808000070561,
                                                        9784870000070071,9784962000070581,9785105000066751,9785544170226101,9785545000066181,9785935000070611,9785936000070621,9786342000070091,
                                                        9786410000070321,9786443000066091,9786569000066241,9786570000066261,9786571000066281,9786704000066931,9787571000025761,9787735000066861,
                                                        9788115000026001,9788133000066331,9788445000070281,9788502000066011,9788548000070631,9788583000005831,9788857000066391,9789092000066121,
                                                        9789561000070021,9790104000066401,9790689000025171,9791490000070721,9791502000066651,9791717000070731,9791888000070191,9792879000070761,
                                                        9792954000066731,9793247000026011,9793360000015431,9793361000066491,9793362000066501,9793426000026041,9793558000070831,9793583000025581,
                                                        9793777000066051,9794222000070841,9794437000066341,9794562000066171,9794684000066901,9795029000070111,9795473000070901,9795744000070911,
                                                        9795758000070921,9796090000006821,9796091000066571,9796810000070341,9797180000066731,9797181000066781,9797309000066631,9797350000070491,
                                                        9797897000006031,9797912000066081,9797947000066121,9798424000015491,9798425000066811,9798693000070171,9799179000025521,9799858000025721,
                                                        9799859000066821,9799860000066761,9799931000070941,9800170000070071,9800440000070961,9800442000070951,9800589000070041,9800848000070371,
                                                        9800849000070581,9800900000006281,9800901000070991,9800903000070971,9801790000013281,9802120000066041,9802240000006141,9802454000018841,
                                                        9802485000070911,9803191000030171,9803335000070171,9803379000066411,9803569000066851,9803570000066051,9803571000070601,9803791000066931,
                                                        9803899000005701,9803900000071031,9803902000071011,9804091000070021,9804143000005861,9804145000071041,9804210000025671,9804313000070631,
                                                        9804391000018001,9804438000025581,9804738000070901,9804739000066341,9804749000071061,9804826000070851,9804831000070051,9805074000034031,
                                                        9805225000025651,9805765000066861,9805766000071101,9805804000070531,9805986000070921,9806010000071121,9806048000071111,9806051000071131,
                                                        9806360000070761,9806361000071151,9806376000070401,9806415000020991,9806491000070871,9806554000066991,9806555000070001,9806625000071161,
                                                        9806626000071171,9806834000070451,9807260000025961,9808156000066381,9808167000070931,9808394000025561,9808464000066131,9808470000070061,
                                                        9808471000070081,9808479000020121,9808563000071181,9808695000016791,9809196000066051,9809386000018011,9809569000066601,9809570000025521,
                                                        9809667000024901,9810082000071001,9810146000041041,9810212000015371,9810213000025831,9810261000071221,9810263000071231,9810265000030171,
                                                        9810411000070011,9810412000015881,9810413000022951,9810415000025761,9810416000071241,9810547000066081,9810614000071261,9810864000006771,
                                                        9810908000071251,9811392000066041,9811562000071281,9811566000070241,9811577000071291,9811653000066091,9811779000071311,9811796000071321,
                                                        9811849000026911,9811931000070421,9812008000071331,9812009000071341,9812010000071271,9812016000071351,9812023000070341,9812214000066891,
                                                        9812242000008371,9812243000070931,9812244000066871,9812263000031441,9812265000070161,9812305000066591,9812308000071371,9812434000071391,
                                                        9812463000006211,9812608000066781,9812622000066571,9812624000071411,9812699000071421,9812705000071431,9812751000006141,9812798000029351,
                                                        9812799000070371,9812846000071441,9812869000006181,9812889000071451,9812988000071461,9813027000025151,9813028000070261,9813087000071471,
                                                        9813091000071481,9813126000006931,9813262000030281,9813264000010521,9813306000047381,9813474000071491,9813489000014731,9813553000043241,
                                                        9813723000070291,9813995000066651,9814139000066381,9814144000071191,9814181000071511,9814329000015041,9814629000071541,9814722000071551,
                                                        9814834000070011,9815118000071371,9815207000070831,9815316000041041,9815463000030951,9815528000070731,9815725000023161,9815812000071561,
                                                        9816012000070351,9816092000071571,9816151000066331,9816152000070741,9816204000071581,9816403000071591,9816745000047811,9817167000066051,
                                                        9817195000071661,9817208000071671,9817330000005871,9817331000005881,9817332000018041,9817334000070461,9817343000071691,9817877000071711,
                                                        9817943000025011,9817944000025021,9817945000025031,9817946000025041,9817947000025051,9817948000070511,9817949000070521,9818141000031261,
                                                        9818267000071721,9818700000006151,9818701000025191,9818702000070561,9819126000071731,9819276000071421,9819675000071361,9819677000070611,
                                                        9819678000070621,9819998000071761,9820354000071781,9820472000005671,9820658000071351,9820659000071301,9820693000014921,9820754000041891,
                                                        9821208000025231,9821209000025241,9821210000070641,9821242000071801,9821767000071811,9821768000071821,9821769000071831,9821808000071841,
                                                        9821810000050371,9822257000025671,9822328000071851,9822725000070711,9822726000070721,9822772000046171,9823048000070741,9823302000071861,
                                                        9823478000071381,9823713000066131,9823897000071871,9824047000015421,9824050000070821,9824051000070841,9824827000018021,9824867000071891,
                                                        9824882000049861,9825313000042021,9825394000023001,9825423000026911,9825576000043241,9825790000052071,9826155000009141,9826263000025541,
                                                        9826264000066451,9826265000015531,9826266000006711,9826318000071901,9826581000071911,9826990000025571,9826991000066141,9827019000071921,
                                                        9827046000071931,9827050000071941,9827155000066581,9827468000071951,9828217000071951,9000045000002131);

  CURSOR cr_crapcrm(pr_nrcartao crapcrm.nrcartao%TYPE) IS
    SELECT crapcrm.cdsitcar
          ,crapcrm.dtvalcar
          ,crapcrm.dtcancel
          ,crapcrm.nmtitcrd
          ,crapcrm.nrcartao
          ,crapcrm.tpusucar
          ,crapcrm.dtemscar
          ,crapcrm.nrdconta
          ,crapcrm.cdcooper
      FROM crapcrm
     WHERE crapcrm.nrcartao = pr_nrcartao;

  --------------> VARIAVEIS <-----------------
  vr_dsorigem  VARCHAR2(50);
  vr_dstransa  VARCHAR2(200);
  vr_nrdrowid  ROWID;
BEGIN
  vr_dsorigem := gene0001.vr_vet_des_origens(1); --AIMARO
  vr_dstransa := 'Cancelar cartao magnetico';

  FOR X IN vr_typ_des_cartoes.first .. vr_typ_des_cartoes.last LOOP
    --> buscar cartoes magneticos
    FOR rw_crapcrm IN cr_crapcrm(pr_nrcartao => vr_typ_des_cartoes(X)) LOOP
      BEGIN
        UPDATE crapcrm
           SET crapcrm.cdsitcar = 3 --CANCELADO
              ,crapcrm.dtcancel = trunc(SYSDATE)
              ,crapcrm.dttransa = trunc(SYSDATE)
              ,crapcrm.hrtransa = gene0002.fn_busca_time
              ,crapcrm.cdoperad = 'f0032955'
         WHERE crapcrm.cdcooper = rw_crapcrm.cdcooper
           AND crapcrm.nrdconta = rw_crapcrm.nrdconta
           AND crapcrm.nrcartao = rw_crapcrm.nrcartao;
      
        gene0001.pc_gera_log(pr_cdcooper => rw_crapcrm.cdcooper,
                             pr_cdoperad => 'f0032955',
                             pr_dscritic => NULL,
                             pr_dsorigem => vr_dsorigem,
                             pr_dstransa => vr_dstransa,
                             pr_dttransa => trunc(SYSDATE),
                             pr_flgtrans => 1,
                             pr_hrtransa => gene0002.fn_busca_time,
                             pr_idseqttl => 1,
                             pr_nmdatela => 'ATENDA',
                             pr_nrdconta => rw_crapcrm.nrdconta,
                             pr_nrdrowid => vr_nrdrowid);
      
        /** Numero do Cartao Magnetico **/
        gene0001.pc_gera_log_item(pr_nrdrowid => vr_nrdrowid,
                                  pr_nmdcampo => 'nrcartao',
                                  pr_dsdadant => ' ',
                                  pr_dsdadatu => gene0002.fn_mask(rw_crapcrm.nrcartao, '9999.9999.9999.9999'));
      
        /** Situacao do cartao **/
        gene0001.pc_gera_log_item(pr_nrdrowid => vr_nrdrowid,
                                  pr_nmdcampo => 'cdsitcar',
                                  pr_dsdadant => to_char(rw_crapcrm.cdsitcar),
                                  pr_dsdadatu => '3');
      
        /** Situacao do cartao **/
        gene0001.pc_gera_log_item(pr_nrdrowid => vr_nrdrowid,
                                  pr_nmdcampo => 'observacao',
                                  pr_dsdadant => '',
                                  pr_dsdadatu => 'atualizacao feita conforme solicitado na RITM0166460');
      
        COMMIT;     
      EXCEPTION
        WHEN OTHERS THEN
          ROLLBACK;
      END;
    END LOOP;
  END LOOP;
END;