CREATE TABLE TBAPI_CONTROLE_SENHA (
  ID RAW(16) DEFAULT SYS_GUID() NOT NULL,
  CDCOOPER NUMBER(10,0) NOT NULL,
  NRDCONTA NUMBER(10,0) NOT NULL,
  INPESSOA NUMBER(5,0) NOT NULL,
  FLBLOQUEADO NUMBER(1,0) DEFAULT 0 NOT NULL,
  CDDISPOSITIVOID NUMBER(10,0) NOT NULL,
  DSTOKENSMS RAW(16),
  DSTOKENSENHA RAW(16),
  CDCODVERIFICACAO NUMBER(10,0),
  DHVERDATACRIACAO DATE,
  DHTOKENDATACRIACAO DATE,
  INTENTATIVAS NUMBER(10,0) DEFAULT 0,
  DHCRIACAO DATE DEFAULT SYSDATE,
  FLEXCLUIDO NUMBER(1,0) DEFAULT 0 NOT NULL  
);

ALTER TABLE TBAPI_CONTROLE_SENHA ADD CONSTRAINT TBAPI_CNTR_SENHA_PK PRIMARY KEY (ID);

COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.ID IS 'Identificador do registro da tabela.';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.CDCOOPER IS 'Codigo da cooperativa.';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.NRDCONTA IS 'Numero da conta do Cooperado.';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.INPESSOA IS 'Codigo da sequencia do titular';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.FLBLOQUEADO IS 'Se a conta esta bloqueada para recuperacao';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.CDDISPOSITIVOID IS 'Codigo do dispositivo que esta realizando a recuperacao';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.DSTOKENSMS IS 'Descricao do token enviado por SMS';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.DSTOKENSENHA IS 'Descricao do token da senha';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.CDCODVERIFICACAO IS 'Codigo de verificacao enviado pelo sms';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.DHVERDATACRIACAO IS 'Data e hora do in√≠cio do processo';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.INTENTATIVAS IS 'Quantidade de tentativas de recuperacao';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.DHCRIACAO IS 'Data e hora da criacao';
COMMENT ON COLUMN TBAPI_CONTROLE_SENHA.FLEXCLUIDO IS 'Se o registro foi excluido';
COMMENT ON TABLE TBAPI_CONTROLE_SENHA  IS 'Tabela de registro das recuperacoes de senha do APP Mobile.';