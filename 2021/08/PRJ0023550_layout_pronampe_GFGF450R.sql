DECLARE
  vr_idcampo tbgen_layout.IDLAYOUT%TYPE;
BEGIN

  SELECT MAX(IDLAYOUT)+1 INTO vr_idcampo FROM tbgen_layout;

  -- Insere o novo layout
  insert into tbgen_layout (IDLAYOUT, NMLAYOUT, DSLAYOUT, DSDELIMITADOR, DSOBSERVACAO)
  values (vr_idcampo, 'GFGF450R', 'Pronampe - Eventos do Administrador', null, '4º Retorno');

  -- Insere nome do programa para rastreabilidade
    insert into tbgen_layout_programa (IDLAYOUT, CDPROGRA)
    values (vr_idcampo, 'incluirPronampeGFGF450R');

  -- Header
  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, 'H', 1, 'NRSEQUENCIAL', 'N', null, 1, 7, null, 'NUMERO SEQUENCIAL REMESSA', '0000001');

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, 'H', 2, 'CDTIPOREG', 'N', null, 8, 2, null, 'TIPO DE REGISTRO', null);

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, 'H', 3, 'NMARQUIVO', 'T', null, 10, 8, null, 'NOME DO ARQUIVO RETORNO', null);

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, 'H', 4, 'NRSEQREMESSA', 'N', null, 32, 4, null, 'SEQUENCIAL DO ARQUIVO DE REMESSA', null);

  -- 97 - Detalhe da situacao da operacao
  
  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 1, 'TPREGISTRO', 'N', null, 8, 2, null, 'TIPO DE REGISTRO', '97');

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 2, 'IDCONTRATO', 'T', null, 10, 20, null, 'CODIGO IDENTIFICADOR DA OPERACAO DE CREDITO', null);
  
  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 3, 'CDMOVIMENTACAO', 'N', null, 30, 2, null, 'TIPO DE MOVIMENTACAO FINANCEIRA', null);
 
  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 4, 'DTMOVIMENTACAO', 'D', 'RRRRMMDD', 32, 8, null, 'DATA DA MOVIMENTACAO FINANCEIRA', null);

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 5, 'DTFATOGERADOR', 'D', 'RRRRMMDD', 40, 8, null, 'DATA DO FATO GERADOR DA MOVIMENTACAO', null);

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 6, 'VLNOMIFATOGERADOR', 'N', null, 48, 17, null, 'VALOR NOMINAL DA DATA DO FATO GERADOR', null);

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 7, 'VLATUALIZACAOMONET', 'N', null, 65, 17, null, 'VALOR DA ATUALIZACAO MONETARIA', null);

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 8, 'VLISSQN', 'N', null, 82, 17, null, 'VALOR DO ISSQN', null);

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 8, 'VLLIQUIDO', 'N', null, 99, 17, null, 'VALOR LIQUIDO MOVIMENTADO', null);

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, '97', 8, 'NRCAUSADORMOV', 'N', null, 116, 7, null, 'NUMERO SEQUENCIAL CAUSADOR DA MOVIMENTACAO, null);
  
  -- Trailer

  insert into tbgen_layout_campo (IDLAYOUT, TPREGISTRO, NRSEQUENCIA_CAMPO, NMCAMPO, TPDADO, DSFORMATO, NRPOSICAO_INICIAL, QTDPOSICOES, QTDDECIMAIS, DSOBSERVACAO, DSIDENTIFICADOR_REGISTRO)
  values (vr_idcampo, 'T', 1, 'CDTIPOREG', 'N', nuLL, 8, 2, null, 'TIPO DE REGISTRO', 99);
  
  commit;  
END;
